{% if model.type == 'targetarea' %}
<div id="infoDescription">
    <strong class="defra-map-info__name defra-map-info__name--emphasis">
        {% if model.state == 'severe' %}
        Severe flood warning
        {% elif model.state == 'warning' %}
        Flood warning
        {% elif model.state == 'alert' %}
        Flood alert
        {% elif model.state == 'removed' %}
            {% if model.id.charAt(4).toLowerCase() == 'w' %}
            Flood warning removed
            {% else %}
            Flood alert removed
            {% endif %}
        {% elif model.id.charAt(4).toLowerCase() == 'w' %}
        Flood warning (inactive)
        {% else %}
        Flood alert (inactive)
        {% endif %}
    </strong>
    <p class="defra-map-info__description"><a href="/target-area/{{ model.id }}">{{ model.name }}</a></p>
    <p class="defra-map-info__meta">{% if model.state == 'removed' %}Removed{% else %}Issued{% endif %} {{ model.date }}</p>
</div>
{% elif model.type === 'river' or model.type === 'sea' or model.type === 'groundwater' %}
<div id="infoDescription">
    <strong class="defra-map-info__name">
        <a href="{% if model.isWales %}{{ model.nrwUrl }}{% endif %}/station/{{ model.id.slice(1) }}">
            {% if model.type === 'sea' and not model.riverId %}
            Sea level
            {% elif model.type === 'groundwater' %}
            Groundwater
            {% else %}
            {{ model.riverName }}
            {% endif %} at {{ model.name }}
            {% if model.type === 'sea' and model.riverId %} (tidal){% endif %}
            {% if model.isUpstage %} (upstream){% elif model.isDownstage %} (downstream){% endif %}
            {% if model.isWales %}<br/><span class="defra-map-info__name-subtitle">(Natural Resources Wales)</span>{% endif %}
        </a>
    </strong>
    {% if not model.isWales %}
        {% if model.status === 'closed' or model.status === 'suspended' %}
        <p class="defra-map-info__error">
            Closed or temporarily out of service
        </p>
        {% elif not model.latestHeight | isNumber %}
        <p class="defra-map-info__error">
            Data not available
        </p>
        {% else %}
            <dl class="defra-flood-data-list">
                <div class="defra-flood-data-list__column">
                    <dt class="govuk-visually-hidden">Height</dt>
                    <dd>
                        <span class="defra-flood-data-list__description">Height</span>
                        <span class="defra-flood-data-list__value">
                            {% if model.latestHeight <= 0 and model.type == 'river' %}
                            â‰¤ 0m
                            {% else %}
                            {{ model.latestHeight | round(2) }}m
                            {% endif %}
                        </span>
                    </dd>
                </div>
                <div class="defra-flood-data-list__column">
                    <dt class="govuk-visually-hidden">Trend</dt>
                    <dd>
                        <span class="defra-flood-data-list__description">Trend</span>
                        <span class="defra-flood-data-list__value">
                            {% if model.latestTrend %}
                            {{ model.latestTrend | capitalize }}
                            {% else %}
                            n/a
                            {% endif %}
                        </span>
                    </dd>
                </div>
                {% if model.latestState %}
                <div class="defra-flood-data-list__column">
                    <dt class="govuk-visually-hidden">State</dt>
                    <dd>
                        <span class="defra-flood-data-list__description">State</span>
                        <span class="defra-flood-data-list__value">
                            {{ model.latestState | capitalize }}
                        </span>
                    </dd>
                </div>
                {% endif %}
            </dl>
            {% if model.date %}
            <p class="defra-map-info__meta">Latest at {{ model.date }}</p>
            {% endif %}
        {% endif %}
        {% if model.stationUp or model.stationDown %}
        <div class="defra-map-info__buttons">
            {% if model.stationUp %}
            <button class="defra-button-secondary defra-button-secondary--icon" data-id="s{{ model.stationUp }}" aria-controls="viewport infoDescription">
                <svg focusable="false" aria-hidden="true" width="16" height="16" viewBox="0 0 16 16"><path d="M8,6.4l0,9.6" style="fill:none;stroke:currentColor;stroke-width:2px;"></path><path d="M8,0l4,6.4l-8,0l4,-6.4Z" style="fill:currentColor"></path></svg>
                <span class="govuk-visually-hidden">Select next</span> Upstream  <span class="govuk-visually-hidden">measurement</span>
            </button>
            {% endif %}
            {% if model.stationDown %}
            <button class="defra-button-secondary defra-button-secondary--icon" data-id="s{{ model.stationDown }}" aria-controls="viewport infoDescription">
                <svg focusable="false" aria-hidden="true" width="16" height="16" viewBox="0 0 16 16"><path d="M8,9.6l-0,-9.6" style="fill:none;stroke:currentColor;stroke-width:2px;"/><path d="M8,16l-4,-6.4l8,0l-4,6.4Z" style="fill:currentColor"/></svg>
                <span class="govuk-visually-hidden">Select next</span> Downstream <span class="govuk-visually-hidden">measurement</span>
            </button>
            {% endif %}
        </div>
        {% endif %}
    {% endif %}
</div>
{% else %}
<!-- Rainfall -->
<div id="infoDescription">
    <strong class="defra-map-info__name">
        <a href="/rainfall-station/{{ model.id.slice(1) }}">Rainfall at {{ model.name }}</a>
    </strong>
    {% if model.status === 'closed' or model.status === 'suspended' %}
    <p class="defra-map-info__error">
        Closed or temporarily out of service
    </p>
    {% elif model.isError %}
    <p class="defra-map-info__error">
        Data not available
    </p>
    {% else %}
    <dl class="defra-flood-data-list">
        <div class="defra-flood-data-list__column">
            <dt class="govuk-visually-hidden">Intensity</dt>
            <dd>
                <span class="defra-flood-data-list__description">1 hour</span>
                <span class="defra-flood-data-list__value">{{ model.value1hr }}mm</span>
            </dd>
        </div>
        <div class="defra-flood-data-list__column">
            <dt class="govuk-visually-hidden">last 6 hrs</dt>
            <dd>
                <span class="defra-flood-data-list__description" aria-hidden="true">6 hours</span>
                <span class="defra-flood-data-list__value">{{ model.value6hr }}mm</span>
            </dd>
        </div>
        <div class="defra-flood-data-list__column">
            <dt class="govuk-visually-hidden">last 24 hrs</dt>
            <dd>
                <span class="defra-flood-data-list__description" aria-hidden="true">24 hours</span>
                <span class="defra-flood-data-list__value">{{ model.value24hr }}mm</span>
            </dd>
        </div>
    </dl>
    {% endif %}
    <p class="defra-map-info__meta">Totals up to {{ model.date }}</p>
</div>
{% endif %}