{% if model.view == 'PRECHAT' %}
<div class="wc-content">
  <h3 class="govuk-heading-m">What you can use web chat for</h3>
  <p>Webchat lets you talk directly to a Floodline adviser.</p>
  <p>You can use web chat to get: </p>
  <ul class="govuk-list govuk-list--bullet">
    <li>current flood warnings and alerts in your area</li>
    <li>information on the flood warning service</li>
    <li>advice on what to do before, during and after a flood</li>
  </ul>
  <p>There are other ways to <a href="https://www.gov.uk/sign-up-for-flood-warnings">sign up for flood warnings</a> and <a href="https://defragroup.eu.qualtrics.com/jfe/form/SV_8uMAuaH3kbJl965?Source=https://check-for-flooding.service.gov.uk">manage your flood warnings account</a>.</p>
  <p>Do not use web chat to <a href="https://www.gov.uk/report-flood-cause">report a flood</a>.</p>
  {% if model.availability == 'AVAILABLE' %}
  <button class="wc-continue-btn govuk-!-margin-top-2" data-module="govuk-button" data-wc-continue-btn>
    Continue
  </button>
  {% else %}
  <div class="wc-inset-text">
    A 'Continue' link will be shown when an adviser is available. You don't need to refresh this page.
  </div>
  {% endif %}
  <h3 class="govuk-heading-m">Other flood information</h3>
  <p>Call Floodline for all other flood and flood warning information.</p>
  <p><strong>Floodline helpline</strong><br/>Telephone: 0345 988 1188<br>Textphone: 0345 602 6340<br>Open 24 hours a day, 7 days a week<br><a href="https://gov.uk/call-charges">Find out more about call charges</a></p>
</div>

{% elif model.view == 'START' %}
<div class="wc-content">
  <a href="#" class="wc-back-link" data-wc-prechat-back-btn>What you can use web chat for</a>
  {% if model.error %}
  <div class="govuk-error-summary" data-module="govuk-error-summary" tabindex="-1" data-wc-error-summary>
    <div role="alert">
      <h3 class="govuk-error-summary__title">
        There is a problem
      </h2>
      <div class="govuk-error-summary__body">
        <ul class="govuk-list govuk-error-summary__list">
          {% if model.error.nameEmpty %}
          <li>
            <a href="#name" data-wc-error-summary-link>Enter your name</a>
          </li>
          {% endif %}
          {% if model.error.questionEmpty %}
          <li>
            <a href="#question" data-wc-error-summary-link>Enter your question</a>
          </li>
          {% endif %}
          {% if model.error.questionExceeded %}
          <li>
            <a href="#question" data-wc-error-summary-link>Your question must be 500 characters or less</a>
          </li>
          {% endif %}
        </ul>
      </div>
    </div>
  </div>
  {% endif %}
  <div class="govuk-form-group {% if model.error.nameEmpty %}govuk-form-group--error{% endif %}">
    <label class="govuk-label" for="name">
      Name
    </label>
    {% if model.error.nameEmpty %}
    <p class="govuk-error-message">
      <span class="govuk-visually-hidden">Error:</span> Enter your name
    </p>
    {% endif %}
    <input class="govuk-input {% if model.error.nameEmpty %}govuk-input--error{% endif %}" id="name" name="name" type="text" {% if model.error %}value="{{ model.error.name }}"{% endif %}>
  </div>
  <div class="govuk-character-count" data-module="govuk-character-count" data-maxlength="500">
    <div class="govuk-form-group {% if model.error.questionEmpty or model.error.questionExceeded %}govuk-form-group--error{% endif %}">
      <label class="govuk-label" for="question">
        Your question
      </label>
      {% if model.error.questionEmpty or model.error.questionExceeded %}
      <p class="govuk-error-message">
        <span class="govuk-visually-hidden">Error:</span>
        {% if model.error.questionEmpty %}
        Enter your question
        {% else %}
        Your question must be 500 characters or less
        {% endif %}
      </p>
      {% endif %}
      <textarea class="govuk-textarea{% if model.error.questionEmpty or model.error.questionExceeded %} wc-textarea--error{% endif %} govuk-js-character-count" id="question" name="question" rows="5" aria-describedby="question-info">{% if model.error %}{{ model.error.question }}{% endif %}</textarea>
    </div>
    <div id="question-info" class="wc-hint govuk-hint govuk-character-count__message">
      You can enter up to 500 characters
    </div>
  </div>
  {% if model.availability == 'AVAILABLE' %}
  <button class="wc-submit-btn" data-module="govuk-button" data-wc-submit-btn>
    Request chat
  </button>
  {% else %}
  <div class="wc-inset-text">
    A 'Request chat' link will be shown when an adviser is available. You don't need to refresh this page.
  </div>
  {% endif %}
</div>

{% elif model.view == 'OPEN' %}
<ul class="wc-list" data-wc-list>
  {% for message in model.messages %}
  {{ message.html | safe }}
  {% endfor %}
</ul>

{% elif model.view == 'TIMEOUT' %}
<div class="wc-content">
  <h3 class="govuk-heading-m">Your session has timed out</h3>
  <p>You did not do anything for {{ model.timeout }}.</p>
  <div class="govuk-button-group">
    <button class="wc-submit-feedback-btn" data-module="govuk-button" data-wc-feedback-btn>Give feedback</button>
    <a href="#" role="button" draggable="false" data-module="govuk-button" data-wc-close-btn>Cancel</a>
  </div>
</div>

{% elif model.view == 'END' %}
<div class="wc-content">
  <h3 class="govuk-heading-m">Are you sure you want to end the chat?</h3>
  <div class="govuk-button-group">
    <button class="wc-confirm-end-btn" data-module="govuk-button" data-wc-confirm-end-btn>Yes, end chat</button>
    <a href="#" role="button" draggable="false" data-module="govuk-button" data-wc-resume-btn>No, resume chat</a>
  </div>
</div>

{% elif model.view == 'FEEDBACK' %}
<div class="wc-content">
  <h3 class="govuk-heading-m">Give feedback</h3>
  <p>Floodline web chat is in public beta</p>
  <div class="govuk-button-group">
    <button class="wc-feedback-btn" data-module="govuk-button" data-wc-submit-feedback-btn>Submit</button>
    <a href="#" role="button" draggable="false" data-module="govuk-button" data-wc-close-btn>Cancel</a>
  </div>
</div>

{% elif model.view == 'FINISH' %}
<div class="wc-content">
  <h3 class="govuk-heading-m">Feedback submitted</h3>
  <p>Thank you for your feedback</p>
  <div>
    <a href="#" role="button" draggable="false" data-module="govuk-button" data-wc-focus-visible data-wc-close-btn>Close window</a>
  </div>
</div>
{% else %}

<div class="wc-content">
  <p>Connecting to an adviser</p>
</div>
{% endif %}